import{u as C,r,f as T,p as v,q as V,c as u,a as e,b as B,h as f,g as M,k as g,v as N,i as o,m as x,s as $,F as j,j as L,t as b,o as c}from"#entry";import{_ as q}from"./8tPKrylh.js";import{_ as D,a as F}from"./ucCoZGV5.js";import"./Bqt1dUAR.js";const S={class:"py-8"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},E={class:"mb-8"},H={class:"flex flex-col sm:flex-row gap-4"},Q={class:"flex-1"},R={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},z={key:2,class:"flex justify-center mt-12"},A={class:"flex space-x-2"},G=["disabled"],I={class:"flex items-center px-4 text-gray-600 dark:text-gray-300"},J=["disabled"],_=9,Z={__name:"index",setup(K){C({title:"博客 - 我的个人博客"});const n=r(""),i=r(""),l=r(1),d=r([]),h=r(!1),y=async()=>{try{d.value=await $fetch("/api/posts.json")}catch{d.value=[]}};T(()=>{y()});const m=v(()=>{if(!d.value)return[];let t=d.value;if(i.value&&(t=t.filter(s=>s.tags&&s.tags.includes(i.value))),n.value){const s=n.value.toLowerCase();t=t.filter(a=>a.title.toLowerCase().includes(s))}return t}),w=v(()=>{const t=(l.value-1)*_,s=t+_;return m.value.slice(t,s)}),p=v(()=>Math.ceil(m.value.length/_));V([n,i],()=>{l.value=1});const k=()=>{l.value++,window.scrollTo({top:0,behavior:"smooth"})},P=()=>{l.value--,window.scrollTo({top:0,behavior:"smooth"})};return(t,s)=>(c(),u("div",S,[e("div",U,[B(q,{title:"博客文章",subtitle:"分享技术见解和学习心得"}),e("div",E,[e("div",H,[e("div",Q,[g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>x(n)?n.value=a:null),type:"text",placeholder:"搜索文章...",class:"input"},null,512),[[N,o(n)]])]),g(e("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>x(i)?i.value=a:null),class:"input max-w-xs"},[...s[2]||(s[2]=[e("option",{value:""},"所有分类",-1),e("option",{value:"技术"},"技术",-1),e("option",{value:"学习"},"学习",-1),e("option",{value:"生活"},"生活",-1)])],512),[[$,o(i)]])])]),o(h)?(c(),f(F,{key:0})):(c(),u("div",R,[(c(!0),u(j,null,L(o(w),a=>(c(),f(D,{key:a.slug||a.id,post:a},null,8,["post"]))),128))])),o(p)>1?(c(),u("div",z,[e("div",A,[e("button",{onClick:P,disabled:o(l)===1,class:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"}," 上一页 ",8,G),e("span",I," 第 "+b(o(l))+" 页，共 "+b(o(p))+" 页 ",1),e("button",{onClick:k,disabled:o(l)===o(p),class:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed"}," 下一页 ",8,J)])])):M("",!0)])]))}};export{Z as default};
