import{_ as V}from"./kjgdymp_.js";import{u as h,r as n,f as C,c as l,a as e,g as _,b as p,h as y,w as g,i as a,F as j,j as N,k as $,v as B,l as M,m as S,t as D,o as s,d as b}from"#entry";import{_ as E}from"./8tPKrylh.js";import{_ as F,a as I}from"./BkEsBC1N.js";const K={class:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-gray-900 dark:to-gray-800 py-20"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"text-center"},z={class:"flex flex-col sm:flex-row gap-4 justify-center"},A={class:"py-16"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},P={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},R={key:2,class:"text-center py-12"},U={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},q={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-11/12 max-w-md p-6"},G={key:0,class:"text-red-600 dark:text-red-400 text-sm mt-3"},Y={__name:"index",setup(J){h({title:"首页 - 我的个人博客"});const o=n([]),k=n(!1),d=n(!1),u=n(!1),i=n(""),c=n(""),w=async()=>{try{o.value=await $fetch("/api/posts.json"),o.value=o.value.slice(0,6)}catch{o.value=[]}};C(()=>{w();try{d.value=localStorage.getItem("editorVerified")==="true"}catch{d.value=!1}});const x=()=>{u.value=!1,i.value="",c.value=""},v=()=>{if((i.value||"").trim()==="黄"){try{localStorage.setItem("editorVerified","true")}catch{}d.value=!0,x()}else c.value="答案不正确，请重试"};return(m,t)=>{const f=V;return s(),l("div",null,[e("section",K,[e("div",L,[e("div",T,[t[5]||(t[5]=e("h1",{class:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6"}," 欢迎来到我的博客 ",-1)),t[6]||(t[6]=e("p",{class:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto"}," 分享技术见解、学习心得和生活感悟的地方 ",-1)),e("div",z,[p(f,{to:"/blog",class:"btn btn-primary"},{default:g(()=>[...t[2]||(t[2]=[b(" 浏览文章 ",-1)])]),_:1}),p(f,{to:"/about",class:"btn btn-secondary"},{default:g(()=>[...t[3]||(t[3]=[b(" 了解更多 ",-1)])]),_:1}),a(d)?(s(),y(f,{key:0,to:"/local-editor",class:"btn btn-outline"},{default:g(()=>[...t[4]||(t[4]=[b(" 本地编辑器 ",-1)])]),_:1})):(s(),l("button",{key:1,class:"btn btn-outline",onClick:t[0]||(t[0]=r=>u.value=!0)}," 显示编辑器 "))])])])]),e("section",A,[e("div",H,[p(E,{title:"最新文章"}),a(k)?(s(),y(I,{key:0})):a(o)&&a(o).length>0?(s(),l("div",P,[(s(!0),l(j,null,N(a(o),r=>(s(),y(F,{key:r.slug||r.id,post:r},null,8,["post"]))),128))])):(s(),l("div",R,[...t[7]||(t[7]=[e("p",{class:"text-gray-600 dark:text-gray-300"},"暂无文章",-1)])]))])]),a(u)?(s(),l("div",U,[e("div",{class:"absolute inset-0 bg-black/50",onClick:x}),e("div",q,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"访问验证",-1)),t[9]||(t[9]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mb-4"},"请回答问题以解锁本地编辑器：该博客的作者姓氏是？",-1)),$(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>S(i)?i.value=r:null),type:"text",class:"input mb-4",placeholder:"请输入作者姓氏",onKeyup:M(v,["enter"])},null,544),[[B,a(i)]]),e("div",{class:"flex justify-end gap-3"},[e("button",{class:"btn btn-secondary",onClick:x},"取消"),e("button",{class:"btn btn-primary",onClick:v},"验证")]),a(c)?(s(),l("p",G,D(a(c)),1)):_("",!0)])])):_("",!0)])}}};export{Y as default};
