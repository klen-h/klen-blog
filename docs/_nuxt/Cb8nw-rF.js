import v from"./DlX_lPuI.js";import{N as k,d as N}from"./BWWIeFk8.js";import{u as D,r as _,p as C,f as S,c as n,a as e,b as i,t as l,i as t,d as g,g as y,F as L,j as T,o as c}from"#entry";import"./DlAUqK2U.js";const V={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},j={class:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"},B={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},H={class:"flex items-center justify-between"},I={class:"flex items-center space-x-4"},M={class:"text-sm text-gray-500 dark:text-gray-400"},A={class:"flex items-center space-x-2"},E={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 markdown-body"},F={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden"},O={class:"p-8 border-b border-gray-200 dark:border-gray-700"},P={class:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6"},z={class:"flex flex-wrap items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4"},J={class:"flex items-center"},$={key:0,class:"flex items-start"},q={class:"flex flex-wrap gap-1"},G={key:0,class:"text-m text-gray-600 dark:text-gray-300 italic border-l-4 border-primary-500 pl-4"},K={class:"p-8 pt-0"},Q={class:"prose prose-lg max-w-none dark:prose-invert"},R=["innerHTML"],U={class:"p-8 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700"},W={class:"flex items-center justify-between"},X={class:"space-x-4"},re={__name:"preview",setup(Y){D({title:"文章预览 - 我的个人博客"});const r=_({title:"",content:"",excerpt:"",tags:[],date:new Date().toISOString().split("T")[0]}),o=_({show:!1,message:"",type:"info"}),u=C(()=>N(r.value.content||"")),h=()=>{try{const s=localStorage.getItem("previewArticle");s?r.value=JSON.parse(s):x("没有找到预览数据")}catch{x("加载预览数据失败")}},p=s=>s?new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"",b=()=>{window.close()},w=()=>{navigator.clipboard.writeText(window.location.href).then(()=>{f("链接已复制到剪贴板")}).catch(()=>{x("复制失败")})},f=s=>{o.value={show:!0,message:s,type:"success"}},x=s=>{o.value={show:!0,message:s,type:"error"}};return S(()=>{h()}),(s,a)=>{const d=v;return c(),n("div",V,[e("div",j,[e("div",B,[e("div",H,[e("div",I,[a[1]||(a[1]=e("h1",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," 文章预览 ",-1)),e("span",M,l(p(t(r).date)),1)]),e("div",A,[e("button",{onClick:b,class:"btn btn-sm btn-outline"},[i(d,{name:"lucide:x",class:"w-4 h-4 mr-2"}),a[2]||(a[2]=g(" 关闭 ",-1))])])])])]),e("div",E,[e("article",F,[e("div",O,[e("h1",P,l(t(r).title),1),e("div",z,[e("div",J,[i(d,{name:"lucide:calendar",class:"w-4 h-4 mr-2"}),g(" "+l(p(t(r).date)),1)]),t(r).tags&&t(r).tags.length>0?(c(),n("div",$,[i(d,{name:"lucide:tag",class:"w-4 h-4 mr-2 mt-1 flex-shrink-0"}),e("div",q,[(c(!0),n(L,null,T(t(r).tags,m=>(c(),n("span",{key:m,class:"inline-block bg-gray-100 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-full px-2 py-1 text-xs"},l(m),1))),128))])])):y("",!0)]),t(r).excerpt?(c(),n("div",G,l(t(r).excerpt),1)):y("",!0)]),e("div",K,[e("div",Q,[e("div",{innerHTML:t(u)},null,8,R)])]),e("div",U,[e("div",W,[a[4]||(a[4]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},[e("p",null,"文章预览 - 本地编辑器")],-1)),e("div",X,[e("button",{onClick:w,class:"btn btn-sm btn-outline flex items-center"},[i(d,{name:"lucide:link",class:"w-4 h-4 mr-2"}),a[3]||(a[3]=g(" 复制链接 ",-1))])])])])])]),i(k,{show:t(o).show,message:t(o).message,type:t(o).type,onClose:a[0]||(a[0]=m=>t(o).show=!1)},null,8,["show","message","type"])])}}};export{re as default};
